var app_mobility_select_on_off = 0;

var app_icon_select_on_off = 0;

var app_visual_select_on_off = 0;

var app_form_value = []; //app(0), mobility(1), icon(2), picture(3), visual(4), color_min(5), color_max(6), quick_access(7), kind(8)

var marker_now;
var icon_loc_listener, icon_loc_marker, icon_loc;
var cam_src;

var already_use_letter = [];
var all_static_icon_list = [];
var all_app_list = [];
var all_icon_list = [];
var all_iottalk_data_list = [];
var app_num = null;
var icon_num = null;

var form;
var optradio;
var interval;
var timeout;
var tracking_timeout;
var left = 0;

var quick_access_count = 0;
var mobile_width = 560;
var quick_access_space;

var marker_list = [];
// var color123 = ['', '', '', '', '','#00ff7f', '#05f505', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'];
var color123 = [['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'], 
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'], 
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'], 
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'], 
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'], 
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'], 
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'], 
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'], 
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'], 
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
['#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d','#00ff7f', '#f5f505', '#ff7f00', '#ff0000', '#f5057d'],
];
// var color123 = ['', '', '', '#4374b7', '#abb8af','#b1a24a', '#667e49', '#9628c6', '#667e49', '#c502d8', '#abb8af', '#4374b7','#0275d8', '#fa5732','#673569', '#b62b6e', '#9628c6', '#667e49', '#b1a24a', '#abb8af', '#4374b7','#0275d8', '#fa5732','#673569', '#b62b6e', '#9628c6', '#667e49', '#b1a24a', '#abb8af', '#4374b7'];  //#d9534f 紅色 要換553b08
// var color123 = ['', '', '', '#0275d8', '#fa5732','#673569', '#b62b6e', '#9628c6', '#667e49', '#b1a24a', '#abb8af', '#4374b7','#0275d8', '#fa5732','#673569', '#b62b6e', '#9628c6', '#667e49', '#b1a24a', '#abb8af', '#4374b7','#0275d8', '#fa5732','#673569', '#b62b6e', '#9628c6', '#667e49', '#b1a24a', '#abb8af', '#4374b7'];  //#d9534f 紅色 要換553b08
var color_shape = ['#337ab7', '#b10876', '#f0ad4e', '#5cb85c','#cc6681', '#2690a9', '#5614c2', '#836eaa', '#f26649', '#86922f', '#5bc0de', '#BB5500', '#f53794','#a15a4a', '#F400F7', '#00BFA5', '#136edd', '#339966', '#ab4fe4', '#c01f41', '#00FF00', '#BBBB00', '#e80a02', '#f0ad4e', '#e12cf2', '#3d8a05'];
// 7/17整理的版本 ['#5cb85c', '#5bc0de', '#f0ad4e', '#337ab7','#f53794', '#339966', '#836eaa', '#f26649', '#86922f', '#cc6681','#a15a4a', '#F400F7', '#00BFA5', '#2690a9', '#ab4fe4', '#b10876', '#c01f41','#f53794', '#00FF00', '#BBBB00', '#BB5500']
//為了Farm新增_start
var color_farm = ['#f26649', '#86922f', '#337ab7', '#5bc0de', '#f0ad4e', '#cc6681', '#339966'];
var BaoCamera = 0;
//為了Farm新增_end
var socket = io.connect('https://'+location.hostname+'/hpc');

var color_range = ['#5bc0de','green', 'yellow', 'orange', 'red'];

var MarkerzIndex = 999;